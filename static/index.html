<!DOCTYPE html>
<html>
	<head>
		<title>SIMJI - Simulation de Jeu d'Instructions</title>
		<link rel="shortcut icon" href="favicon.png" />

		<!-- You MUST include jQuery before Fomantic -->
		<script src="jquery-3.5.1.min.js"></script>
		<link rel="stylesheet" type="text/css" href="semantic/semantic.min.css" />
		<link rel="stylesheet" type="text/css" href="index.css" />
		<script src="semantic/semantic.min.js"></script>
		<script src="ace/ace.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body onload="start()">
		<!-- UI layout -->
		<div class="full-height">
			<div class="ui vertical inverted left visible sidebar menu">
				<div class="item">
					<h1 style="margin-bottom: 0">SIMJI</h1>
					<em>Simulateur de Jeu d'Instructions</em>
				</div>
				<div class="item">
					Loading Files
					<div class="menu">
						<span class="item">Main Program</span>
						<div class="item">
							<label for="mainprogramfile" class="ui icon button fluid">
								<i class="upload icon" style="padding-right: 1.5em"></i>
								<span id="mainprogramfile-text">Load program file</span>
							</label>
							<input type="file" id="mainprogramfile" class="ui file input" accept=".asm, .txt" />
						</div>
						<span class="item">Memory file</span>
						<div class="item">
							<label for="memoryfile" class="ui icon button fluid">
								<i class="upload icon" style="padding-right: 1.5em"></i>
								<span id="memoryfile-text">Load memory file</span>
							</label>
							<input type="file" id="memoryfile" class="ui file input" accept=".dat, .txt" />
						</div>
					</div>
				</div>
				<div class="item">
					<i class="play icon"></i> Program Controls
					<div class="menu">
						<div class="item">
							<button id="btn-loadbuffer" class="ui button fluid">
								<i class="refresh icon"></i>Load buffer
							</button>
						</div>
						<div class="item">
							<button id="btn-step" class="ui button fluid disabled" onclick="runStep()">Step</button>
						</div>
						<div class="item">
							<button id="btn-run" class="ui button primary fluid disabled">Run</button>
						</div>
					</div>
				</div>
				<div class="item">
					<i class="microchip icon"></i> Stats
					<div class="menu">
						<div class="item" id="nb-lines"># lines : <span class="stat">0</span></div>
						<div class="item" id="nb-cycles"># cycles : <span class="stat">0</span></div>
						<div class="item" id="pc">PC : <span class="stat">0</span></div>
					</div>
				</div>
				<div class="item">
					<i class="cogs icon"></i> Options
					<div class="menu">
						<div class="item">Une option</div>
						<div class="item">Deuxi√®me option</div>
					</div>
				</div>
			</div>
			<div class="pusher">
				<!-- Site content !-->
				<div class="container">
					<div class="ui top attached tabular ide menu">
						<a class="active red item" data-tab="editor">Code editor</a>
						<a class="blue item" data-tab="exec">Code execution</a>
						<a class="green item" data-tab="memory">Memory View</a>
					</div>

					<div class="ui bottom attached active tab segment tab-container" data-tab="editor">
						<div id="program-code"></div>
					</div>
					<div class="ui bottom attached tab segment tab-container" data-tab="exec">
						Code exec
					</div>
					<div class="ui bottom attached tab segment tab-container" data-tab="memory">
						<h4>Registers</h4>
						<table class="ui celled striped table" id="register-container">
							<thead><th colspan="8">Registers</th></thead>
							<tbody></tbody>
						</table>
						<h4>Memory blocks</h4>
						<table class="ui celled striped table" id="memory-container">
							<thead><th colspan="8">Memory blocks</th></thead>
							<tbody></tbody>
						</table>
					</div>
				</div>

				<!-- Console -->
				<div class="console-holder">
					<h4 style="margin: 0">Console</h4>
					<textarea readonly id="console"></textarea>
				</div>
			</div>
		</div>

		<!-- Connect UI actions to Go functions -->
		<script src="utils.js"></script>
		<script src="index.js"></script>
	</body>
</html>
